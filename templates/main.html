{% extends 'layout/base.html'%}
{% load static %}
{% block content %}


<!-- 검색바-->
<section class="search-main">
    <div class="container">
        <div class="search-main-title">편의점 신상 리뷰, 여기 다 ZIP중!</div>
        <div class="search-main-sub-title">편ZIP</div>
        <div class="col-md-5">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="검색할 상품을 입력해 주세요">
                <button class="btn btn-primary">🔍</button>
            </div>
        </div>
    </div>    
</section>



<section class="latest-main">
    <div class="latest-main-text">
        <span>🔥 최신 제품을 확인해 보세요!</span>
    </div>
    <div class="container">
    <div class="product-scroll-container" id="product-list">
        {% for product in latest_product %}
        <a href="{% url 'product:product_detail' product.product_id %}" class="product-link">
            <div class="product-card">
                <img src="{{ product.product_image_url }}" alt="{{ product.product_name}}">
                <div class="card-body">
                    <div class="card-title"><strong>[상품명]</strong>{{ product.product_name}}</div>
                    <div class="card-store-name">{{product.convenient_store_name}}</div>
                    <div class="card-price">{{ product.product_price }}원</div>
                </div>
            </div>
        </a>    
        {% endfor %}
    </div>
    </div>
    

    <div class="text-center mt-3 mb-3">
        <button class="btn btn-outline-secondary" type="button"><a href="{% url 'product:main'  %}">더보기 ▶</a></button>
    </div>
</section>    



<section class="ai-main">            
    <div class="ai-main-text">
        <span>🤖 똑똑한 AI 리뷰 분석</span>
    </div>
    <div class="product-scroll-container" id="product-list">
        <div class="btn-group my-2" role="group">
            <button class="btn btn-outline-primary">전체</button>
            <button class="btn btn-outline-primary">음료</button
            <button class="btn btn-outline-primary">간식</button>
            <button class="btn btn-outline-primary">기타</button>
        </div>
    </div>
    
    <!--for문으로 수정 예정 test 중-->
    <div class="container">
        
        <!--상품목록 가로 스크롤-->
        <div class="product-scroll-container" id="product-list">
            <!--상품 카드 샘플-->
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Green Tea</h6>
                <p>CU</p>
                <p>2700원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>White Tea</h6>
                <p>GS</p>
                <p>2900원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Super Matcha</h6>
                <p>7-Eleven</p>
                <p>3200원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Americano</h6>
                <p>CU</p>
                <p>1500원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Strawberry Latte</h6>
                <p>GS</p>
                <p>2800원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Vanilla Latte</h6>
                <p>7-Eleven</p>
                <p>3000원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Energy Drink</h6>
                <p>CU</p>
                <p>2500원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Banana Milk</h6>
                <p>GS</p>
                <p>1300원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Chocolate Bar</h6>
                <p>7-Eleven</p>
                <p>1500원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Chips</h6>
                <p>CU</p>
                <p>2200원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Cookies</h6>
                <p>GS</p>
                <p>2400원</p>
            </div>
            <div class="product-card">
                <img src="#" alt="상품 이미지">
                <h6>Sandwich</h6>
                <p>7-Eleven</p>
                <p>3200원</p>
            </div>
        </div>
    </div>
    
    
    <div class="text-center mt-3 mb-3">
        <button class="btn" type="button"><a href="{% url 'review:review_main' %}">더보기 ▶</a></button>
    </div>
    
</section>
    
     <!-- JavaScript (드래그 스크롤 기능 추가) -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    const scrollContainer = document.getElementById("product-list");

    let isDown = false;
    let startX;
    let scrollLeft;

    scrollContainer.addEventListener("mousedown", (e) => {
        isDown = true;
        scrollContainer.classList.add("active");
        startX = e.pageX - scrollContainer.offsetLeft;
        scrollLeft = scrollContainer.scrollLeft;
    });

    scrollContainer.addEventListener("mouseleave", () => {
        isDown = false;
        scrollContainer.classList.remove("active");
    });

    scrollContainer.addEventListener("mouseup", () => {
        isDown = false;
        scrollContainer.classList.remove("active");
    });

    scrollContainer.addEventListener("mousemove", (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - scrollContainer.offsetLeft;
        const walk = (x - startX) * 2; // 스크롤 속도 조절
        scrollContainer.scrollLeft = scrollLeft - walk;
    });
});

    </script>

{% endblock content %}